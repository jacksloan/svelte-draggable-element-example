import{L as C,M as Y,S as j,i as P,s as S,F as q,e as A,c as O,a as F,d as k,b as v,f as y,N as I,g as G,O as H,K as M,G as K,H as N,I as Q,q as R,o as U,P as V,Q as Z,R as B,v as J,E as W,T as x,U as $}from"./index-91353806.js";import{w as z}from"./index-78954055.js";function ee(e){let s,t;function a(l){s=l.clientX,t=l.clientY,e.dispatchEvent(new CustomEvent("dragstart",{detail:{x:s,y:t}})),window.addEventListener("mousemove",f),window.addEventListener("mouseup",r)}function f(l){const o=l.clientX-s,n=l.clientY-t;s=l.clientX,t=l.clientY,e.dispatchEvent(new CustomEvent("dragmove",{detail:{x:s,y:t,dx:o,dy:n}}))}function r(l){s=l.clientX,t=l.clientY,e.dispatchEvent(new CustomEvent("dragend",{detail:{x:s,y:t}})),window.removeEventListener("mousemove",f),window.removeEventListener("mouseup",r)}return e.addEventListener("mousedown",a),{destroy(){e.removeEventListener("mousedown",a)}}}function L(e){return Object.prototype.toString.call(e)==="[object Date]"}function D(e,s,t,a){if(typeof t=="number"||L(t)){const f=a-t,r=(t-s)/(e.dt||1/60),l=e.opts.stiffness*f,o=e.opts.damping*r,n=(l-o)*e.inv_mass,i=(r+n)*e.dt;return Math.abs(i)<e.opts.precision&&Math.abs(f)<e.opts.precision?a:(e.settled=!1,L(t)?new Date(t.getTime()+i):t+i)}else{if(Array.isArray(t))return t.map((f,r)=>D(e,s[r],t[r],a[r]));if(typeof t=="object"){const f={};for(const r in t)f[r]=D(e,s[r],t[r],a[r]);return f}else throw new Error(`Cannot spring ${typeof t} values`)}}function se(e,s={}){const t=z(e),{stiffness:a=.15,damping:f=.8,precision:r=.01}=s;let l,o,n,i=e,c=e,u=1,g=0,_=!1;function b(m,p={}){c=m;const T=n={};if(e==null||p.hard||d.stiffness>=1&&d.damping>=1)return _=!0,l=C(),i=m,t.set(e=c),Promise.resolve();if(p.soft){const h=p.soft===!0?.5:+p.soft;g=1/(h*60),u=0}return o||(l=C(),_=!1,o=Y(h=>{if(_)return _=!1,o=null,!1;u=Math.min(u+g,1);const w={inv_mass:u,opts:d,settled:!0,dt:(h-l)*60/1e3},X=D(w,i,e,c);return l=h,i=e,t.set(e=X),w.settled&&(o=null),!w.settled})),new Promise(h=>{o.promise.then(()=>{T===n&&h()})})}const d={set:b,update:(m,p)=>b(m(c,e),p),subscribe:t.subscribe,stiffness:a,damping:f,precision:r};return d}const E=z(0);function te(e){let s,t,a,f,r;const l=e[9].default,o=q(l,e,e[8],null);return{c(){s=A("div"),o&&o.c(),this.h()},l(n){s=O(n,"DIV",{class:!0,style:!0});var i=F(s);o&&o.l(i),i.forEach(k),this.h()},h(){v(s,"class",t="relative inline-block select-none "+e[2]+" svelte-o9yde"),y(s,"transform","translate("+e[4].x+"px, "+e[4].y+"px)"),y(s,"z-index",e[0]),y(s,"cursor","grab"),I(s,"highlightTop",e[3]===e[0])},m(n,i){G(n,s,i),o&&o.m(s,null),a=!0,f||(r=[H(ee.call(null,s)),M(s,"dragstart",e[6]),M(s,"dragmove",e[5])],f=!0)},p(n,[i]){o&&o.p&&(!a||i&256)&&K(o,l,n,n[8],a?Q(l,n[8],i,null):N(n[8]),null),(!a||i&4&&t!==(t="relative inline-block select-none "+n[2]+" svelte-o9yde"))&&v(s,"class",t),(!a||i&16)&&y(s,"transform","translate("+n[4].x+"px, "+n[4].y+"px)"),(!a||i&1)&&y(s,"z-index",n[0]),i&13&&I(s,"highlightTop",n[3]===n[0])},i(n){a||(R(o,n),a=!0)},o(n){U(o,n),a=!1},d(n){n&&k(s),o&&o.d(n),f=!1,V(r)}}}function ne(e,s,t){let a,f,r=W,l=()=>(r(),r=B(i,d=>t(4,f=d)),i);Z(e,E,d=>t(3,a=d)),e.$$.on_destroy.push(()=>r());let{$$slots:o={},$$scope:n}=s,{coords:i=se({x:0,y:0})}=s;l();let{zIndex:c=0}=s,{containerClass:u=""}=s,{isDraggable:g=!0}=s;function _(d){g&&i.update(m=>({x:m.x+d.detail.dx,y:m.y+d.detail.dy}))}function b(){x(E,a++,a),t(0,c=$(E))}return J(()=>{b()}),e.$$set=d=>{"coords"in d&&l(t(1,i=d.coords)),"zIndex"in d&&t(0,c=d.zIndex),"containerClass"in d&&t(2,u=d.containerClass),"isDraggable"in d&&t(7,g=d.isDraggable),"$$scope"in d&&t(8,n=d.$$scope)},[c,i,u,a,f,_,b,g,n,o]}class ae extends j{constructor(s){super(),P(this,s,ne,te,S,{coords:1,zIndex:0,containerClass:2,isDraggable:7})}}export{ae as D,se as s};
