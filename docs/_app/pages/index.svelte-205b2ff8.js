import{G as e,H as t,S as s,i as n,s as r,D as o,e as a,c as i,a as c,d as l,b as d,I as u,f,J as m,K as p,E as h,v as $,r as x,L as g,M as v,N as w,O as b,z as E,C as y,P as D,Q as I,t as M,k as j,j as P,g as z,n as L,m as C,F as k,o as N,w as O}from"../chunks/index-94664f65.js";import{w as T}from"../chunks/index-dfb9d0a1.js";function V(e){let t,s;function n(n){t=n.clientX,s=n.clientY,e.dispatchEvent(new CustomEvent("dragstart",{detail:{x:t,y:s}})),window.addEventListener("mousemove",r),window.addEventListener("mouseup",o)}function r(n){const r=n.clientX-t,o=n.clientY-s;t=n.clientX,s=n.clientY,e.dispatchEvent(new CustomEvent("dragmove",{detail:{x:t,y:s,dx:r,dy:o}}))}function o(n){t=n.clientX,s=n.clientY,e.dispatchEvent(new CustomEvent("dragend",{detail:{x:t,y:s}})),window.removeEventListener("mousemove",r),window.removeEventListener("mouseup",o)}return e.addEventListener("mousedown",n),{destroy(){e.removeEventListener("mousedown",n)}}}function X(e){return"[object Date]"===Object.prototype.toString.call(e)}function Y(e,t,s,n){if("number"==typeof s||X(s)){const r=n-s,o=(s-t)/(e.dt||1/60),a=(o+(e.opts.stiffness*r-e.opts.damping*o)*e.inv_mass)*e.dt;return Math.abs(a)<e.opts.precision&&Math.abs(r)<e.opts.precision?n:(e.settled=!1,X(s)?new Date(s.getTime()+a):s+a)}if(Array.isArray(s))return s.map(((r,o)=>Y(e,t[o],s[o],n[o])));if("object"==typeof s){const r={};for(const o in s)r[o]=Y(e,t[o],s[o],n[o]);return r}throw new Error(`Cannot spring ${typeof s} values`)}function A(s,n={}){const r=T(s),{stiffness:o=.15,damping:a=.8,precision:i=.01}=n;let c,l,d,u=s,f=s,m=1,p=0,h=!1;function $(n,o={}){f=n;const a=d={};if(null==s||o.hard||x.stiffness>=1&&x.damping>=1)return h=!0,c=e(),u=n,r.set(s=f),Promise.resolve();if(o.soft){const e=!0===o.soft?.5:+o.soft;p=1/(60*e),m=0}return l||(c=e(),h=!1,l=t((e=>{if(h)return h=!1,l=null,!1;m=Math.min(m+p,1);const t={inv_mass:m,opts:x,settled:!0,dt:60*(e-c)/1e3},n=Y(t,u,s,f);return c=e,u=s,r.set(s=n),t.settled&&(l=null),!t.settled}))),new Promise((e=>{l.promise.then((()=>{a===d&&e()}))}))}const x={set:$,update:(e,t)=>$(e(f,s),t),subscribe:r.subscribe,stiffness:o,damping:a,precision:i};return x}const S=T(0);function _(e){let t,s,n,r;const v=e[6].default,w=o(v,e,e[5],null);return{c(){t=a("div"),w&&w.c(),this.h()},l(e){t=i(e,"DIV",{class:!0,style:!0});var s=c(t);w&&w.l(s),s.forEach(l),this.h()},h(){d(t,"class","relative inline-block select-none shadow-lg hover:shadow-xl transition-shadow duration-200"),u(t,"transform","translate("+e[2].x+"px, "+e[2].y+"px)"),u(t,"z-index",e[0]),u(t,"cursor","grab")},m(o,a){f(o,t,a),w&&w.m(t,null),s=!0,n||(r=[m(V.call(null,t)),p(t,"dragstart",e[4]),p(t,"dragmove",e[3])],n=!0)},p(e,[n]){w&&w.p&&32&n&&h(w,v,e,e[5],n,null,null),(!s||4&n)&&u(t,"transform","translate("+e[2].x+"px, "+e[2].y+"px)"),(!s||1&n)&&u(t,"z-index",e[0])},i(e){s||($(w,e),s=!0)},o(e){x(w,e),s=!1},d(e){e&&l(t),w&&w.d(e),n=!1,g(r)}}}function H(e,t,s){let n,r,o=y,a=()=>(o(),o=w(l,(e=>s(2,r=e))),l);v(e,S,(e=>s(7,n=e))),e.$$.on_destroy.push((()=>o()));let{$$slots:i={},$$scope:c}=t,{coords:l=A({x:0,y:0})}=t;a();let{zIndex:d=0}=t;function u(){D(S,n++,n),s(0,d=I(S))}return b(),E((()=>{u()})),e.$$set=e=>{"coords"in e&&a(s(1,l=e.coords)),"zIndex"in e&&s(0,d=e.zIndex),"$$scope"in e&&s(5,c=e.$$scope)},[d,l,r,function(e){l.update((t=>({x:t.x+e.detail.dx,y:t.y+e.detail.dy})))},u,c,i]}class R extends s{constructor(e){super(),n(this,e,H,_,r,{coords:1,zIndex:0})}}function B(e){let t,s,n;return{c(){t=a("div"),s=a("p"),n=M("Drag Me"),this.h()},l(e){t=i(e,"DIV",{class:!0});var r=c(t);s=i(r,"P",{});var o=c(s);n=z(o,"Drag Me"),o.forEach(l),r.forEach(l),this.h()},h(){d(t,"class","w-64 h-64 flex flex-row items-center justify-center bg-red-400 border border-red-600 rounded-md")},m(e,r){f(e,t,r),k(t,s),k(s,n)},d(e){e&&l(t)}}}function F(e){let t,s,n;return{c(){t=a("div"),s=a("p"),n=M("Drag Me"),this.h()},l(e){t=i(e,"DIV",{class:!0});var r=c(t);s=i(r,"P",{});var o=c(s);n=z(o,"Drag Me"),o.forEach(l),r.forEach(l),this.h()},h(){d(t,"class","w-64 h-64 flex flex-row items-center justify-center bg-green-400 border border-green-600 rounded-md")},m(e,r){f(e,t,r),k(t,s),k(s,n)},d(e){e&&l(t)}}}function G(e){let t,s,n;return{c(){t=a("div"),s=a("p"),n=M("Drag Me"),this.h()},l(e){t=i(e,"DIV",{class:!0});var r=c(t);s=i(r,"P",{});var o=c(s);n=z(o,"Drag Me"),o.forEach(l),r.forEach(l),this.h()},h(){d(t,"class","w-64 h-64 flex flex-row items-center justify-center bg-indigo-400 border border-indigo-600 rounded-md")},m(e,r){f(e,t,r),k(t,s),k(s,n)},d(e){e&&l(t)}}}function J(e){let t,s,n,r,o,u,m,h,g,v,w,b,E,y,D,I;return g=new R({props:{coords:e[0],$$slots:{default:[B]},$$scope:{ctx:e}}}),w=new R({props:{coords:e[1],$$slots:{default:[F]},$$scope:{ctx:e}}}),E=new R({props:{coords:e[2],$$slots:{default:[G]},$$scope:{ctx:e}}}),{c(){t=a("section"),s=a("h1"),n=M("Draggable Elements Example"),r=j(),o=a("button"),u=M("Reset Position"),m=j(),h=a("main"),P(g.$$.fragment),v=j(),P(w.$$.fragment),b=j(),P(E.$$.fragment),this.h()},l(e){t=i(e,"SECTION",{class:!0});var a=c(t);s=i(a,"H1",{class:!0});var d=c(s);n=z(d,"Draggable Elements Example"),d.forEach(l),r=L(a),o=i(a,"BUTTON",{class:!0});var f=c(o);u=z(f,"Reset Position"),f.forEach(l),a.forEach(l),m=L(e),h=i(e,"MAIN",{class:!0});var p=c(h);C(g.$$.fragment,p),v=L(p),C(w.$$.fragment,p),b=L(p),C(E.$$.fragment,p),p.forEach(l),this.h()},h(){d(s,"class","px-2"),d(o,"class","border border-blue-700 bg-white text-blue-700 px-2 rounded-md"),d(t,"class","flex flex-row py-1 bg-blue-500 text-white items-center"),d(h,"class","w-full h-full p-2 select-none")},m(a,i){f(a,t,i),k(t,s),k(s,n),k(t,r),k(t,o),k(o,u),f(a,m,i),f(a,h,i),N(g,h,null),k(h,v),N(w,h,null),k(h,b),N(E,h,null),y=!0,D||(I=p(o,"click",e[3]),D=!0)},p(e,[t]){const s={};32&t&&(s.$$scope={dirty:t,ctx:e}),g.$set(s);const n={};32&t&&(n.$$scope={dirty:t,ctx:e}),w.$set(n);const r={};32&t&&(r.$$scope={dirty:t,ctx:e}),E.$set(r)},i(e){y||($(g.$$.fragment,e),$(w.$$.fragment,e),$(E.$$.fragment,e),y=!0)},o(e){x(g.$$.fragment,e),x(w.$$.fragment,e),x(E.$$.fragment,e),y=!1},d(e){e&&l(t),e&&l(m),e&&l(h),O(g),O(w),O(E),D=!1,I()}}}function K(e){e.update((()=>({x:0,y:0})))}function Q(e){const t=r(),s=r(),n=r();function r(){return A({x:0,y:0},{stiffness:.1,damping:.3})}return[t,s,n,function(){[t,s,n].forEach(K)}]}export default class extends s{constructor(e){super(),n(this,e,Q,J,r,{})}}
