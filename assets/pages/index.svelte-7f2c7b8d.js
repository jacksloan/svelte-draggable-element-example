import{G as e,H as t,S as s,i as n,s as r,D as o,e as a,c,a as i,d as l,b as d,I as f,J as u,f as h,K as m,L as p,E as $,v as g,r as x,M as v,N as w,O as b,P as E,z as y,C as D,Q as M,R as I,t as j,k as P,j as z,g as L,n as C,m as T,F as k,o as V,w as N}from"../chunks/index-f1b9b1b8.js";import{w as O}from"../chunks/index-46feafc1.js";function X(e){let t,s;function n(n){t=n.clientX,s=n.clientY,e.dispatchEvent(new CustomEvent("dragstart",{detail:{x:t,y:s}})),window.addEventListener("mousemove",r),window.addEventListener("mouseup",o)}function r(n){const r=n.clientX-t,o=n.clientY-s;t=n.clientX,s=n.clientY,e.dispatchEvent(new CustomEvent("dragmove",{detail:{x:t,y:s,dx:r,dy:o}}))}function o(n){t=n.clientX,s=n.clientY,e.dispatchEvent(new CustomEvent("dragend",{detail:{x:t,y:s}})),window.removeEventListener("mousemove",r),window.removeEventListener("mouseup",o)}return e.addEventListener("mousedown",n),{destroy(){e.removeEventListener("mousedown",n)}}}function Y(e){return"[object Date]"===Object.prototype.toString.call(e)}function A(e,t,s,n){if("number"==typeof s||Y(s)){const r=n-s,o=(s-t)/(e.dt||1/60),a=(o+(e.opts.stiffness*r-e.opts.damping*o)*e.inv_mass)*e.dt;return Math.abs(a)<e.opts.precision&&Math.abs(r)<e.opts.precision?n:(e.settled=!1,Y(s)?new Date(s.getTime()+a):s+a)}if(Array.isArray(s))return s.map(((r,o)=>A(e,t[o],s[o],n[o])));if("object"==typeof s){const r={};for(const o in s)r[o]=A(e,t[o],s[o],n[o]);return r}throw new Error(`Cannot spring ${typeof s} values`)}function R(s,n={}){const r=O(s),{stiffness:o=.15,damping:a=.8,precision:c=.01}=n;let i,l,d,f=s,u=s,h=1,m=0,p=!1;function $(n,o={}){u=n;const a=d={};if(null==s||o.hard||g.stiffness>=1&&g.damping>=1)return p=!0,i=e(),f=n,r.set(s=u),Promise.resolve();if(o.soft){const e=!0===o.soft?.5:+o.soft;m=1/(60*e),h=0}return l||(i=e(),p=!1,l=t((e=>{if(p)return p=!1,l=null,!1;h=Math.min(h+m,1);const t={inv_mass:h,opts:g,settled:!0,dt:60*(e-i)/1e3},n=A(t,f,s,u);return i=e,f=s,r.set(s=n),t.settled&&(l=null),!t.settled}))),new Promise((e=>{l.promise.then((()=>{a===d&&e()}))}))}const g={set:$,update:(e,t)=>$(e(u,s),t),subscribe:r.subscribe,stiffness:o,damping:a,precision:c};return g}const S=O(0);function _(e){let t,s,n,r;const w=e[7].default,b=o(w,e,e[6],null);return{c(){t=a("div"),b&&b.c(),this.h()},l(e){t=c(e,"DIV",{class:!0,style:!0});var s=i(t);b&&b.l(s),s.forEach(l),this.h()},h(){d(t,"class","relative inline-block select-none shadow-lg hover:shadow-xl transition-shadow duration-200 svelte-1mlgc8v"),f(t,"transform","translate("+e[3].x+"px, "+e[3].y+"px)"),f(t,"z-index",e[0]),f(t,"cursor","grab"),u(t,"highlightTop",e[2]===e[0])},m(o,a){h(o,t,a),b&&b.m(t,null),s=!0,n||(r=[m(X.call(null,t)),p(t,"dragstart",e[5]),p(t,"dragmove",e[4])],n=!0)},p(e,[n]){b&&b.p&&64&n&&$(b,w,e,e[6],n,null,null),(!s||8&n)&&f(t,"transform","translate("+e[3].x+"px, "+e[3].y+"px)"),(!s||1&n)&&f(t,"z-index",e[0]),5&n&&u(t,"highlightTop",e[2]===e[0])},i(e){s||(g(b,e),s=!0)},o(e){x(b,e),s=!1},d(e){e&&l(t),b&&b.d(e),n=!1,v(r)}}}function H(e,t,s){let n,r,o=D,a=()=>(o(),o=b(l,(e=>s(3,r=e))),l);w(e,S,(e=>s(2,n=e))),e.$$.on_destroy.push((()=>o()));let{$$slots:c={},$$scope:i}=t,{coords:l=R({x:0,y:0})}=t;a();let{zIndex:d=0}=t;function f(){M(S,n++,n),s(0,d=I(S))}return E(),y((()=>{f()})),e.$$set=e=>{"coords"in e&&a(s(1,l=e.coords)),"zIndex"in e&&s(0,d=e.zIndex),"$$scope"in e&&s(6,i=e.$$scope)},[d,l,n,r,function(e){l.update((t=>({x:t.x+e.detail.dx,y:t.y+e.detail.dy})))},f,i,c]}class B extends s{constructor(e){super(),n(this,e,H,_,r,{coords:1,zIndex:0})}}function F(e){let t,s,n;return{c(){t=a("div"),s=a("p"),n=j("Drag Me"),this.h()},l(e){t=c(e,"DIV",{class:!0});var r=i(t);s=c(r,"P",{});var o=i(s);n=L(o,"Drag Me"),o.forEach(l),r.forEach(l),this.h()},h(){d(t,"class","w-64 h-64 flex flex-row items-center justify-center bg-red-400 border border-red-600 rounded-md")},m(e,r){h(e,t,r),k(t,s),k(s,n)},d(e){e&&l(t)}}}function G(e){let t,s,n;return{c(){t=a("div"),s=a("p"),n=j("Drag Me"),this.h()},l(e){t=c(e,"DIV",{class:!0});var r=i(t);s=c(r,"P",{});var o=i(s);n=L(o,"Drag Me"),o.forEach(l),r.forEach(l),this.h()},h(){d(t,"class","w-64 h-64 flex flex-row items-center justify-center bg-green-400 border border-green-600 rounded-md")},m(e,r){h(e,t,r),k(t,s),k(s,n)},d(e){e&&l(t)}}}function J(e){let t,s,n;return{c(){t=a("div"),s=a("p"),n=j("Drag Me"),this.h()},l(e){t=c(e,"DIV",{class:!0});var r=i(t);s=c(r,"P",{});var o=i(s);n=L(o,"Drag Me"),o.forEach(l),r.forEach(l),this.h()},h(){d(t,"class","w-64 h-64 flex flex-row items-center justify-center bg-indigo-400 border border-indigo-600 rounded-md")},m(e,r){h(e,t,r),k(t,s),k(s,n)},d(e){e&&l(t)}}}function K(e){let t,s,n;return{c(){t=a("div"),s=a("p"),n=j("Drag Me"),this.h()},l(e){t=c(e,"DIV",{class:!0});var r=i(t);s=c(r,"P",{});var o=i(s);n=L(o,"Drag Me"),o.forEach(l),r.forEach(l),this.h()},h(){d(t,"class","w-64 h-64 flex flex-row items-center justify-center bg-yellow-400 border border-yellow-600 rounded-md")},m(e,r){h(e,t,r),k(t,s),k(s,n)},d(e){e&&l(t)}}}function Q(e){let t,s,n,r,o,f,u,m,$,v,w,b,E,y,D,M,I,O;return $=new B({props:{coords:e[0],$$slots:{default:[F]},$$scope:{ctx:e}}}),w=new B({props:{coords:e[1],$$slots:{default:[G]},$$scope:{ctx:e}}}),E=new B({props:{coords:e[2],$$slots:{default:[J]},$$scope:{ctx:e}}}),D=new B({props:{coords:e[3],$$slots:{default:[K]},$$scope:{ctx:e}}}),{c(){t=a("section"),s=a("h1"),n=j("Draggable Elements Example"),r=P(),o=a("button"),f=j("Reset Position"),u=P(),m=a("main"),z($.$$.fragment),v=P(),z(w.$$.fragment),b=P(),z(E.$$.fragment),y=P(),z(D.$$.fragment),this.h()},l(e){t=c(e,"SECTION",{class:!0});var a=i(t);s=c(a,"H1",{class:!0});var d=i(s);n=L(d,"Draggable Elements Example"),d.forEach(l),r=C(a),o=c(a,"BUTTON",{class:!0});var h=i(o);f=L(h,"Reset Position"),h.forEach(l),a.forEach(l),u=C(e),m=c(e,"MAIN",{class:!0});var p=i(m);T($.$$.fragment,p),v=C(p),T(w.$$.fragment,p),b=C(p),T(E.$$.fragment,p),y=C(p),T(D.$$.fragment,p),p.forEach(l),this.h()},h(){d(s,"class","px-2"),d(o,"class","border border-blue-700 bg-white text-blue-700 px-2 rounded-md"),d(t,"class","flex flex-row py-1 bg-blue-500 text-white items-center"),d(m,"class","w-full h-full p-2 select-none")},m(a,c){h(a,t,c),k(t,s),k(s,n),k(t,r),k(t,o),k(o,f),h(a,u,c),h(a,m,c),V($,m,null),k(m,v),V(w,m,null),k(m,b),V(E,m,null),k(m,y),V(D,m,null),M=!0,I||(O=p(o,"click",e[4]),I=!0)},p(e,[t]){const s={};64&t&&(s.$$scope={dirty:t,ctx:e}),$.$set(s);const n={};64&t&&(n.$$scope={dirty:t,ctx:e}),w.$set(n);const r={};64&t&&(r.$$scope={dirty:t,ctx:e}),E.$set(r);const o={};64&t&&(o.$$scope={dirty:t,ctx:e}),D.$set(o)},i(e){M||(g($.$$.fragment,e),g(w.$$.fragment,e),g(E.$$.fragment,e),g(D.$$.fragment,e),M=!0)},o(e){x($.$$.fragment,e),x(w.$$.fragment,e),x(E.$$.fragment,e),x(D.$$.fragment,e),M=!1},d(e){e&&l(t),e&&l(u),e&&l(m),N($),N(w),N(E),N(D),I=!1,O()}}}function U(e){e.update((()=>({x:0,y:0})))}function q(e){const t=o(),s=o(),n=o(),r=o();function o(){return R({x:0,y:0},{stiffness:.1,damping:.3})}return[t,s,n,r,function(){[t,s,n,r].forEach(U)}]}export default class extends s{constructor(e){super(),n(this,e,q,Q,r,{})}}
