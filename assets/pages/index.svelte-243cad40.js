import{G as e,H as t,S as s,i as n,s as r,D as o,e as a,c,a as i,d as l,b as d,I as f,f as u,J as m,K as $,E as p,v as h,r as g,L as x,M as v,N as w,O as b,z as E,C as y,P as D,Q as M,t as I,k as j,j as P,g as z,n as L,m as C,F as k,o as V,w as N}from"../chunks/index-94664f65.js";import{w as O}from"../chunks/index-dfb9d0a1.js";function T(e){let t,s;function n(n){t=n.clientX,s=n.clientY,e.dispatchEvent(new CustomEvent("dragstart",{detail:{x:t,y:s}})),window.addEventListener("mousemove",r),window.addEventListener("mouseup",o)}function r(n){const r=n.clientX-t,o=n.clientY-s;t=n.clientX,s=n.clientY,e.dispatchEvent(new CustomEvent("dragmove",{detail:{x:t,y:s,dx:r,dy:o}}))}function o(n){t=n.clientX,s=n.clientY,e.dispatchEvent(new CustomEvent("dragend",{detail:{x:t,y:s}})),window.removeEventListener("mousemove",r),window.removeEventListener("mouseup",o)}return e.addEventListener("mousedown",n),{destroy(){e.removeEventListener("mousedown",n)}}}function X(e){return"[object Date]"===Object.prototype.toString.call(e)}function Y(e,t,s,n){if("number"==typeof s||X(s)){const r=n-s,o=(s-t)/(e.dt||1/60),a=(o+(e.opts.stiffness*r-e.opts.damping*o)*e.inv_mass)*e.dt;return Math.abs(a)<e.opts.precision&&Math.abs(r)<e.opts.precision?n:(e.settled=!1,X(s)?new Date(s.getTime()+a):s+a)}if(Array.isArray(s))return s.map(((r,o)=>Y(e,t[o],s[o],n[o])));if("object"==typeof s){const r={};for(const o in s)r[o]=Y(e,t[o],s[o],n[o]);return r}throw new Error(`Cannot spring ${typeof s} values`)}function A(s,n={}){const r=O(s),{stiffness:o=.15,damping:a=.8,precision:c=.01}=n;let i,l,d,f=s,u=s,m=1,$=0,p=!1;function h(n,o={}){u=n;const a=d={};if(null==s||o.hard||g.stiffness>=1&&g.damping>=1)return p=!0,i=e(),f=n,r.set(s=u),Promise.resolve();if(o.soft){const e=!0===o.soft?.5:+o.soft;$=1/(60*e),m=0}return l||(i=e(),p=!1,l=t((e=>{if(p)return p=!1,l=null,!1;m=Math.min(m+$,1);const t={inv_mass:m,opts:g,settled:!0,dt:60*(e-i)/1e3},n=Y(t,f,s,u);return i=e,f=s,r.set(s=n),t.settled&&(l=null),!t.settled}))),new Promise((e=>{l.promise.then((()=>{a===d&&e()}))}))}const g={set:h,update:(e,t)=>h(e(u,s),t),subscribe:r.subscribe,stiffness:o,damping:a,precision:c};return g}const S=O(0);function _(e){let t,s,n,r;const v=e[6].default,w=o(v,e,e[5],null);return{c(){t=a("div"),w&&w.c(),this.h()},l(e){t=c(e,"DIV",{class:!0,style:!0});var s=i(t);w&&w.l(s),s.forEach(l),this.h()},h(){d(t,"class","relative inline-block select-none shadow-lg hover:shadow-xl transition-shadow duration-200"),f(t,"transform","translate("+e[2].x+"px, "+e[2].y+"px)"),f(t,"z-index",e[0]),f(t,"cursor","grab")},m(o,a){u(o,t,a),w&&w.m(t,null),s=!0,n||(r=[m(T.call(null,t)),$(t,"dragstart",e[4]),$(t,"dragmove",e[3])],n=!0)},p(e,[n]){w&&w.p&&32&n&&p(w,v,e,e[5],n,null,null),(!s||4&n)&&f(t,"transform","translate("+e[2].x+"px, "+e[2].y+"px)"),(!s||1&n)&&f(t,"z-index",e[0])},i(e){s||(h(w,e),s=!0)},o(e){g(w,e),s=!1},d(e){e&&l(t),w&&w.d(e),n=!1,x(r)}}}function H(e,t,s){let n,r,o=y,a=()=>(o(),o=w(l,(e=>s(2,r=e))),l);v(e,S,(e=>s(7,n=e))),e.$$.on_destroy.push((()=>o()));let{$$slots:c={},$$scope:i}=t,{coords:l=A({x:0,y:0})}=t;a();let{zIndex:d=0}=t;function f(){D(S,n++,n),s(0,d=M(S))}return b(),E((()=>{f()})),e.$$set=e=>{"coords"in e&&a(s(1,l=e.coords)),"zIndex"in e&&s(0,d=e.zIndex),"$$scope"in e&&s(5,i=e.$$scope)},[d,l,r,function(e){l.update((t=>({x:t.x+e.detail.dx,y:t.y+e.detail.dy})))},f,i,c]}class R extends s{constructor(e){super(),n(this,e,H,_,r,{coords:1,zIndex:0})}}function B(e){let t,s,n;return{c(){t=a("div"),s=a("p"),n=I("Drag Me"),this.h()},l(e){t=c(e,"DIV",{class:!0});var r=i(t);s=c(r,"P",{});var o=i(s);n=z(o,"Drag Me"),o.forEach(l),r.forEach(l),this.h()},h(){d(t,"class","w-64 h-64 flex flex-row items-center justify-center bg-red-400 border border-red-600 rounded-md")},m(e,r){u(e,t,r),k(t,s),k(s,n)},d(e){e&&l(t)}}}function F(e){let t,s,n;return{c(){t=a("div"),s=a("p"),n=I("Drag Me"),this.h()},l(e){t=c(e,"DIV",{class:!0});var r=i(t);s=c(r,"P",{});var o=i(s);n=z(o,"Drag Me"),o.forEach(l),r.forEach(l),this.h()},h(){d(t,"class","w-64 h-64 flex flex-row items-center justify-center bg-green-400 border border-green-600 rounded-md")},m(e,r){u(e,t,r),k(t,s),k(s,n)},d(e){e&&l(t)}}}function G(e){let t,s,n;return{c(){t=a("div"),s=a("p"),n=I("Drag Me"),this.h()},l(e){t=c(e,"DIV",{class:!0});var r=i(t);s=c(r,"P",{});var o=i(s);n=z(o,"Drag Me"),o.forEach(l),r.forEach(l),this.h()},h(){d(t,"class","w-64 h-64 flex flex-row items-center justify-center bg-indigo-400 border border-indigo-600 rounded-md")},m(e,r){u(e,t,r),k(t,s),k(s,n)},d(e){e&&l(t)}}}function J(e){let t,s,n;return{c(){t=a("div"),s=a("p"),n=I("Drag Me"),this.h()},l(e){t=c(e,"DIV",{class:!0});var r=i(t);s=c(r,"P",{});var o=i(s);n=z(o,"Drag Me"),o.forEach(l),r.forEach(l),this.h()},h(){d(t,"class","w-64 h-64 flex flex-row items-center justify-center bg-yellow-400 border border-yellow-600 rounded-md")},m(e,r){u(e,t,r),k(t,s),k(s,n)},d(e){e&&l(t)}}}function K(e){let t,s,n,r,o,f,m,p,x,v,w,b,E,y,D,M,O,T;return x=new R({props:{coords:e[0],$$slots:{default:[B]},$$scope:{ctx:e}}}),w=new R({props:{coords:e[1],$$slots:{default:[F]},$$scope:{ctx:e}}}),E=new R({props:{coords:e[2],$$slots:{default:[G]},$$scope:{ctx:e}}}),D=new R({props:{coords:e[2],$$slots:{default:[J]},$$scope:{ctx:e}}}),{c(){t=a("section"),s=a("h1"),n=I("Draggable Elements Example"),r=j(),o=a("button"),f=I("Reset Position"),m=j(),p=a("main"),P(x.$$.fragment),v=j(),P(w.$$.fragment),b=j(),P(E.$$.fragment),y=j(),P(D.$$.fragment),this.h()},l(e){t=c(e,"SECTION",{class:!0});var a=i(t);s=c(a,"H1",{class:!0});var d=i(s);n=z(d,"Draggable Elements Example"),d.forEach(l),r=L(a),o=c(a,"BUTTON",{class:!0});var u=i(o);f=z(u,"Reset Position"),u.forEach(l),a.forEach(l),m=L(e),p=c(e,"MAIN",{class:!0});var $=i(p);C(x.$$.fragment,$),v=L($),C(w.$$.fragment,$),b=L($),C(E.$$.fragment,$),y=L($),C(D.$$.fragment,$),$.forEach(l),this.h()},h(){d(s,"class","px-2"),d(o,"class","border border-blue-700 bg-white text-blue-700 px-2 rounded-md"),d(t,"class","flex flex-row py-1 bg-blue-500 text-white items-center"),d(p,"class","w-full h-full p-2 select-none")},m(a,c){u(a,t,c),k(t,s),k(s,n),k(t,r),k(t,o),k(o,f),u(a,m,c),u(a,p,c),V(x,p,null),k(p,v),V(w,p,null),k(p,b),V(E,p,null),k(p,y),V(D,p,null),M=!0,O||(T=$(o,"click",e[3]),O=!0)},p(e,[t]){const s={};32&t&&(s.$$scope={dirty:t,ctx:e}),x.$set(s);const n={};32&t&&(n.$$scope={dirty:t,ctx:e}),w.$set(n);const r={};32&t&&(r.$$scope={dirty:t,ctx:e}),E.$set(r);const o={};32&t&&(o.$$scope={dirty:t,ctx:e}),D.$set(o)},i(e){M||(h(x.$$.fragment,e),h(w.$$.fragment,e),h(E.$$.fragment,e),h(D.$$.fragment,e),M=!0)},o(e){g(x.$$.fragment,e),g(w.$$.fragment,e),g(E.$$.fragment,e),g(D.$$.fragment,e),M=!1},d(e){e&&l(t),e&&l(m),e&&l(p),N(x),N(w),N(E),N(D),O=!1,T()}}}function Q(e){e.update((()=>({x:0,y:0})))}function U(e){const t=r(),s=r(),n=r();function r(){return A({x:0,y:0},{stiffness:.1,damping:.3})}return[t,s,n,function(){[t,s,n].forEach(Q)}]}export default class extends s{constructor(e){super(),n(this,e,U,K,r,{})}}
